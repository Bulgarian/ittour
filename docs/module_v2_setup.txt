/**
 *  IT-Tour. 2016
 *  Внешние модули Айтитур.
 *  www.ittour.com.ua
 *  Версия 2.1 
 */


------------------------------------
--- Установка и работа с модулем ---
------------------------------------


1. Требования к среде
---------------------
- PHP v5 и выше.
- Библиотека SOAP.
- MySQL (В зависимости от настроек кеширования).


2. Установка
------------
Для установки модуля достаточно распаковать архив в каталог доступный извне: каталог веб сервера, с соответствующими правами на чтение и запуск скриптов.
Каталогам ittour_module/_tmp/ и ittour_module/images/bg_cache/ нужно дать права на запись (777).
Архив включает 'Новый Модуль Поиска'.


3. Настройка
------------
Настройки модуля хранятся в файле config\config.ini.


3.1. Настройки соединения
-------------------------
webservice_url - URL сервиса (по умолчанию http://service.ittour.com.ua/).
webservice_login - логин для подключению к сервису.
webservice_password - пароль для подключению к сервису.
webservice_agency_id - ID_агенства для работы с заявками.
!!! - Логин, пароль и ID_агенства для доступа должены быть получены у компании Айти-тур.


3.2. Настройка кодировки
------------------------
webservice_encoding = "utf-8"; Кодировка, в которой работает модуль (utf-8, windows-1251, windows-1252).


3.3. Настройки кеширования
--------------------------
webservice_use_cache - использование кеша.
webservice_cache_lifetime - время жизни кеша в секундах.
webservice_cache_type - тип кеширования file.


3.4. Настройки размещения модуля
--------------------------------
modules_url  - URL к каталогу модуля (например, http://site.com/ittour_module/).
modules_path  - путь к каталогу модуля (например, /home/www/site.com/ittour_module/).


3.5. Настройки параметров
-------------------------
hotel_rating_def - рейтинг отеля, значения: "3,4,78"; 7=>2*, 3=>3*, 4=>4*, 78=>5* .
adult_amount_def - кол-во взрослых, значения: от 1 до 5.
departure_city_def - город вылета, значения: 2014; 2014=>Киев или 1225=>Харьков или 1745=>Львов и т.д.
country_def - страна по умолчанию, значения: "ОАЭ"; "ОАЭ" или "Болгария" или "Египет" и т.д.
search_module_module2_currency_default - валюта по умолчанию, значения: 1=>"USD", 10=>"EUR", 2=>"UAH" .
search_module_module2_type_select - тип селекта по умолчанию, значения: "1"=>Мелкий, "2"=>Крупный .
search_module_module2_hide_pay_form - параметр для вкл/выкл формы оплаты из просмотра тура, значения: "0"=>НЕТ, "1"=>ДА .


3.6. Настройки оповещений
-------------------------
agency_email -  email агентства.
agency_name - название агентства.
mail_agency_from - от кого (email).
mail_agency_subject - тема письма агентству о новой заявке.
mail_user_subject - тема письма туристу о заявке.
mailer_type - метод отправки почты (smtp, mail, sendmail).
mailer_smtp_server - smtp сервер.
mailer_smtp_user - smtp логин.
mailer_smtp_password - smtp пароль.


3.7. Настройки внешнего вида
-----------------------------
search_module_scheme - цветовая схема, значения: "7020", можно задать только цветову схему и будут применены все цветовые  настройки как в личном кабинете.
search_module_background = "F7F5F5"; - цвет фона модуля.
search_module_border_color = "3399FF"; - цвет рамки модуля.
search_module_button_color = "3399FF"; - цвет кнопки(и звёзд) модуля.
search_module_module2_title_color = "1E1E1E"; - цвет заголовков на модуле.
search_module_use_white_text_color = "FAFAFA"; - цвет текста на кнопке модуля.
search_module_select_color = "818181"; - цвет селектов модуля.
search_module_price_color = "2272B7"; - цвет цены в результате поиска модуля.


4. Интеграция и стилизация
--------------------------


4.1. Веб сервис
---------------
Модуль построен с использованием технологии веб сервисов.
Сервер Айти-Тур предоставляет данные, а клиентская часть модуля, получает и обрабатывает эти данные.
Клиентская часть веб сервиса представлена классом webclient (webclient.php).


4.2. Интеграция с существующими страницами
------------------------------------------
Корневой каталог модуля содержит веб страницу демонстрирующую использование веб сервиса для взаимодействия с сервером и обмена данными.
Вы можете использовать предоставленный пример модуля, дополнить php код, либо же полностью сформировать свой дизайн используя класс webclient.


4.3. Стилизация
---------------
Стилизация модуля производится стандартными средствами CSS. Соответствующие файлы Вы найдете в каталоге CSS.


4.4. Пример интеграции модуля
-----------------------------
Пример интеграции модуля находится в файле ittour_module/new_modules_preview.php.


4.5. Описание интеграции модуля
-------------------------------
Для подключения модуля на странице необходимо подключить и инициализировать webclient.
Подключение формы поиска файл ittour_module/new_modules_preview.php.